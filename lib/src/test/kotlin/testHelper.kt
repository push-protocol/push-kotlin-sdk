import push.kotlin.sdk.PrivateKeySigner
import push.kotlin.sdk.Signer
import push.kotlin.sdk.TypedSinger

val BASE_64_IMAGE = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAIAAADTED8xAAADMElEQVR4nOzVwQnAIBQFQYXff81RUkQCOyDj1YOPnbXWPmeTRef+/3O/OyBjzh3CD95BfqICMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMO0TAAD//2Anhf4QtqobAAAAAElFTkSuQmCC"

fun getRandomEthPrivateKey(): String {
  val length = 64
  val letters = "abcdef0123456789"
  return (0 until length).map { letters.random() }.joinToString("")
}
fun getNewSinger():Pair<String, Signer>{
  val privateKey = getRandomEthPrivateKey()
  val signer = PrivateKeySigner(privateKey)
  val address = signer.getAddress().getOrThrow()

  return Pair(address, signer)
}

class MockEIP712OptinSigner:TypedSinger(){
  override fun getAddress(): Result<String> {
    return Result.success("0xD26A7BF7fa0f8F1f3f73B056c9A67565A6aFE63c")
  }

  override fun getEip712Signature(message: String): Result<String> {
    // optout
    //channel    eip155:5:0x2AEcb6DeE3652dA1dD6b54D5fd4f7D8F43DaEb78
    //subscriber eip155:5:0xD26A7BF7fa0f8F1f3f73B056c9A67565A6aFE63c
    return Result.success("0xbd2724da36cbb3a99d59d4133b9cceb6a602bb1c0aab69d249a199c071a196880e8b7fba882cb10e943223be2ce34ccc5ceb4e1326410e968cd4497748c0de111c")
  }
}

class MockEIP712OptOutSigner:TypedSinger(){
  override fun getAddress(): Result<String> {
    return Result.success("0xD26A7BF7fa0f8F1f3f73B056c9A67565A6aFE63c")
  }

  override fun getEip712Signature(message: String): Result<String> {
    // optout
    //channel    eip155:5:0x2AEcb6DeE3652dA1dD6b54D5fd4f7D8F43DaEb78
    //unsubscriber eip155:5:0xD26A7BF7fa0f8F1f3f73B056c9A67565A6aFE63c
    return Result.success("0xac77e24153f6b5a46b42020ba987d402c4b5b0308aa62cf06cd2a9173c3c613d4d182bba1607d004a504848cebe30b73c9efb88897e0f9563f38e21ec2e84b281b")
  }
}